<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° - [67543206005-0]</title>
    
    <style>
        :root {
            --primary-color: #1a73e8;
            --success-color: #28a745;
            --error-color: #dc3545;
            --bg-color: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }

        /* Search Section */
        .card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }

        .search-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #555;
        }

        input, select, textarea {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            width: 100%;
            margin-top: 20px;
        }

        .btn-success { background-color: var(--success-color); color: white; }

        /* Table Section */
        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th { background-color: #f1f3f4; color: #555; }

        /* Modal Section */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .close-btn { font-size: 24px; cursor: pointer; }

        .hidden { display: none; }

        @media (max-width: 600px) {
            .search-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üè¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</h1>

        <section class="card">
            <h2>üîé ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°</h2>
            <form id="searchForm">
                <div class="search-grid">
                    <div class="form-group">
                        <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
                        <input type="date" id="s_date" required>
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°</label>
                        <input type="time" id="s_start" required>
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label>
                        <input type="time" id="s_end" required>
                    </div>
                    <div class="form-group">
                        <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥</label>
                        <input type="number" id="s_capacity" min="1" value="1">
                    </div>
                </div>
                
                <div class="form-group" style="margin-top: 15px;">
                    <label>‡∏™‡∏¥‡πà‡∏á‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item"><input type="checkbox" value="Projector"> ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏ï‡∏≠‡∏£‡πå</div>
                        <div class="checkbox-item"><input type="checkbox" value="Whiteboard"> ‡πÑ‡∏ß‡∏ó‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î</div>
                        <div class="checkbox-item"><input type="checkbox" value="Wi-Fi"> Wi-Fi</div>
                        <div class="checkbox-item"><input type="checkbox" value="Audio"> ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á</div>
                    </div>
                </div>
                
                <button type="button" class="btn btn-primary" onclick="handleSearch()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á</button>
            </form>
        </section>

        <section class="card hidden" id="resultCard">
            <h2>üìÖ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á</th>
                            <th>‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£/‡∏ä‡∏±‡πâ‡∏ô</th>
                            <th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏</th>
                            <th>‡∏™‡∏¥‡πà‡∏á‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å</th>
                            <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                        </tr>
                    </thead>
                    <tbody id="roomList"></tbody>
                </table>
            </div>
        </section>
    </div>

    <div class="modal-overlay" id="bookingModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="m_room_name">‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á</h3>
                <span class="close-btn" onclick="closeModal()">&times;</span>
            </div>
            <form id="confirmForm">
                <div class="form-group" style="margin-bottom: 15px;">
                    <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: <span id="m_max"></span>)</label>
                    <input type="number" id="m_attendees" required min="1">
                </div>
                <div class="form-group" style="margin-bottom: 15px;">
                    <label>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</label>
                    <textarea id="m_purpose" rows="3" required></textarea>
                </div>
                <button type="button" class="btn btn-success" style="width: 100%;" onclick="submitBooking()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</button>
            </form>
        </div>
    </div>

    <script>
        // Mock Data
        const roomsData = [
            { id: 1, name: "‡∏´‡πâ‡∏≠‡∏á A301", building: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ A", floor: 3, capacity: 10, facilities: ["Projector", "Whiteboard"] },
            { id: 2, name: "‡∏´‡πâ‡∏≠‡∏á B402", building: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ B", floor: 4, capacity: 25, facilities: ["Projector", "Wi-Fi", "Audio"] },
            { id: 3, name: "‡∏´‡πâ‡∏≠‡∏á C105", building: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ C", floor: 1, capacity: 50, facilities: ["Audio", "Whiteboard"] }
        ];

        let selectedRoom = null;

        // 1. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
        function handleSearch() {
            const startDate = document.getElementById('s_date').value;
            const startTime = document.getElementById('s_start').value;
            const endTime = document.getElementById('s_end').value;

            // Validation: ‡∏´‡πâ‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏á
            if (!startDate || !startTime || !endTime) {
                alert("‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô");
                return;
            }

            // Validation: ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°
            if (startTime >= endTime) {
                alert("‚ùå ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°");
                return;
            }

            renderTable();
            document.getElementById('resultCard').classList.remove('hidden');
        }

        // 2. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á
        function renderTable() {
            const tbody = document.getElementById('roomList');
            tbody.innerHTML = "";

            roomsData.forEach(room => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td><strong>${room.name}</strong></td>
                    <td>${room.building} ‡∏ä‡∏±‡πâ‡∏ô ${room.floor}</td>
                    <td>${room.capacity} ‡∏ó‡πà‡∏≤‡∏ô</td>
                    <td>${room.facilities.join(', ')}</td>
                    <td><button class="btn btn-success" onclick="openBooking(${room.id})">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≠‡∏á</button></td>
                `;
                tbody.appendChild(tr);
            });
        }

        // 3. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î Modal ‡∏à‡∏≠‡∏á
        function openBooking(roomId) {
            selectedRoom = roomsData.find(r => r.id === roomId);
            document.getElementById('m_room_name').innerText = "‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á: " + selectedRoom.name;
            document.getElementById('m_max').innerText = selectedRoom.capacity;
            document.getElementById('bookingModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('bookingModal').style.display = 'none';
        }

        function submitBooking() {
            const attendees = parseInt(document.getElementById('m_attendees').value);
            const purpose = document.getElementById('m_purpose').value;

            if (!attendees || !purpose) {
                alert("‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå");
                return;
            }

            if (attendees > selectedRoom.capacity) {
                alert(`‚ùå ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô (${attendees}) ‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏‡∏Ç‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á (${selectedRoom.capacity})`);
                return;
            }

            alert(`‚úÖ ‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\n‡∏´‡πâ‡∏≠‡∏á: ${selectedRoom.name}\n‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: ${attendees} ‡∏Ñ‡∏ô`);
            closeModal();
            document.getElementById('confirmForm').reset();
        }
    </script>
</body>
</html>